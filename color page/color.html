<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Color Cycle</title>
</head>
<body>
    <!-- 5개의 색상 선택기 -->
    <input type="color" id="color1" value="#ff0000">
    <input type="color" id="color2" value="#00ff00">
    <input type="color" id="color3" value="#0000ff">
    <input type="color" id="color4" value="#ffff00">
    <input type="color" id="color5" value="#ff00ff">
    <!-- 시작 및 정지 버튼 -->
    <button id="start-button">Start</button>
    <button id="stop-button">Stop</button>

    <script>
        class ColorCycle {
            constructor() {
                this.colors = Array.from({ length: 5 }, (_, i) => document.getElementById(`color${i + 1}`).value);
                this.currentIndex = 0;
                this.intervalId = null;
                this.initUI();
            }

            initUI() {
                document.querySelectorAll('input[type="color"]').forEach((el, i) => {
                    el.addEventListener('input', (e) => {
                        this.colors[i] = e.target.value;
                        // console.log(i, e.target.value);
                    });
                });

                document.getElementById('start-button').addEventListener('click', () => this.startColorCycle());
                document.getElementById('stop-button').onclick = () => this.stopColorCycle(); // 비권장
            }

            startColorCycle() {
                this.stopColorCycle(); // 기존 타이머 제거
                this.intervalId = setInterval(() => {
                    document.body.style.backgroundColor = this.colors[this.currentIndex];
                    this.currentIndex = (this.currentIndex + 1) % this.colors.length;
                    // console.log(this.currentIndex);
                }, 1000);
            }

            stopColorCycle() {
                clearInterval(this.intervalId);
                document.body.style.backgroundColor = '';
            }
        }

        new ColorCycle(); // ColorCycle 인스턴스 생성
    </script>
</body>
</html>
